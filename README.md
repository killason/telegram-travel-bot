# –ì–∏–¥ –ø–æ –¥–æ—Å—É–≥—É –∏ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è–º ‚Äî Telegram Bot

–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π Telegram-–±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –¥–æ—Å—É–≥ –≤ –≥–æ—Ä–æ–¥–µ:  
- –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—É—é –ø–æ–≥–æ–¥—É  
- –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–æ—Å—É–≥–∞ –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π 
- –Ω–∞—Ö–æ–¥–∏—Ç —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã, –∫–∞—Ñ–µ, –º—É–∑–µ–∏ –∏ –¥—Ä—É–≥–∏–µ –º–µ—Å—Ç–∞ 
- —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –∏ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ  

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è (–ø–æ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –∏–ª–∏ –≤–≤–µ–¥—ë–Ω–Ω–æ–º—É –≥–æ—Ä–æ–¥—É)
- –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–≥–Ω–æ–∑–∞ –ø–æ–≥–æ–¥—ã (WeatherAPI)
- –ü–æ–∏—Å–∫ –º–µ—Å—Ç —á–µ—Ä–µ–∑ Google Places API
- –°–æ–≤–µ—Ç—ã –ø–æ –¥–æ—Å—É–≥—É —Å –ø–æ–º–æ—â—å—é AI (Groq LLaMA 3 —á–µ—Ä–µ–∑ OpenAI SDK)
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–≤–µ—Ç–æ–≤ –∏ –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –º–µ—Å—Ç –≤ –±–∞–∑–µ SQLite
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —É–¥–æ–±–Ω—ã–µ inline-–∫–Ω–æ–ø–∫–∏ (–ü–æ–¥—Ä–æ–±–Ω–µ–µ, –î–∞–ª–µ–µ, –ù–∞–∑–∞–¥, –î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ)

---

## –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
- **Python** ‚â• 3.10 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 3.11)
- [PyTelegramBotAPI](https://github.com/eternnoir/pyTelegramBotAPI) ‚Äî —Ä–∞–±–æ—Ç–∞ —Å Telegram Bot API
- [Requests](https://docs.python-requests.org/) ‚Äî HTTP-–∑–∞–ø—Ä–æ—Å—ã
- [Peewee ORM](http://docs.peewee-orm.com/) ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite
- [python-dotenv](https://pypi.org/project/python-dotenv/) ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [OpenAI SDK](https://pypi.org/project/openai/) ‚Äî –¥–æ—Å—Ç—É–ø –∫ Groq (–º–æ–¥–µ–ª—å LLaMA 3)

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
```bash
git clone <repo-url>
cd TelegramBot
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
```bash
python -m venv .venv
# Windows:
.\.venv\Scripts\activate
# Linux/Mac:
source .venv/bin/activate
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
pip install -r requirements.txt
```

### 4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —à–∞–±–ª–æ–Ω `.env`:
```bash
cp .env.template .env
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª—è –≤ `.env`:
```ini
BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
WEATHER_API_KEY=–≤–∞—à_api_–∫–ª—é—á_WeatherAPI
GOOGLE_API_KEY=–≤–∞—à_api_–∫–ª—é—á_Google
GROQ_API_KEY=–≤–∞—à_api_–∫–ª—é—á_Groq
```

### 5. –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
```bash
cd database
python db_init.py
cd ..
```

### 6. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
```bash
python main.py
```

–ë–æ—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Ä–µ–∂–∏–º–µ **polling** (–±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª –æ–ø—Ä–æ—Å–∞ Telegram).

---

## –ö–æ–º–∞–Ω–¥—ã
- `/start` ‚Äî –Ω–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã, –≤—ã–±–æ—Ä –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è
- `/help` ‚Äî —Å–ø—Ä–∞–≤–∫–∞

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
TelegramBot/
  config_data/        # –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (.env –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
  database/           # ORM Peewee, –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è SQLite
  handlers/           # –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ –∫–æ–ª–±—ç–∫–æ–≤
  keyboards/          # inline-–∫–Ω–æ–ø–∫–∏ –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
  services/           # –º–æ–¥—É–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π (–ø–æ–≥–æ–¥–∞, Google Places, AI)
  utils/              # –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (user_context, –∫–æ–º–∞–Ω–¥—ã)
  loader.py           # –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è TeleBot –∏ state storage
  main.py             # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (polling)
  requirements.txt    # –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
  .env.template       # —à–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
  README.md           # –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

---

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `BOT_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞ (–æ—Ç @BotFather)
- `WEATHER_API_KEY` ‚Äî –∫–ª—é—á [WeatherAPI](https://www.weatherapi.com/)
- `GOOGLE_API_KEY` ‚Äî –∫–ª—é—á Google (Geocoding + Places API)
- `GROQ_API_KEY` ‚Äî –∫–ª—é—á [Groq](https://console.groq.com/keys)

---

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è SQLite (—Ñ–∞–π–ª `bot_data.db`)
- ORM: Peewee
- –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:
  - `UserHistory` ‚Äî –∏—Å—Ç–æ—Ä–∏—è –¥–µ–π—Å—Ç–≤–∏–π
  - `Favorites` ‚Äî –∏–∑–±—Ä–∞–Ω–Ω–æ–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## AI-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è [OpenAI SDK](https://github.com/openai/openai-python) —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º `base_url=https://api.groq.com/openai/v1` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–æ–¥–µ–ª—å—é `llama3-70b-8192`.

–ü—Ä–∏–º–µ—Ä –≤—ã–∑–æ–≤–∞:
```python
client = OpenAI(api_key=GROQ_API_KEY, base_url="https://api.groq.com/openai/v1")
```

---

## TODO / Roadmap
- [ ] –î–æ–±–∞–≤–∏—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ (–≤—ã–±–æ—Ä–æ—á–Ω–æ)
- [ ] –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≤–µ–±—Ö—É–∫–∏ (–¥–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å
- [ ] –†–∞—Å—à–∏—Ä–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É API (–æ—Ç–µ–ª–∏, –º–∞—Ä—à—Ä—É—Ç—ã)
- [ ] –†–∞—Å—à–∏—Ä–∏—Ç—å –ø–æ–∏—Å–∫ –º–µ—Å—Ç –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –º–µ—Å—Ç (–ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É, —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é)

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è
MIT License
Copyright (c) 2025 –í–ª–∞–¥–∏–º–∏—Ä –£—Å–ø–µ–Ω—Å–∫–∏–π (Skillbox Final Project)